
<!DOCTYPE html>
<!-- saved from url=(0039)file:///home/dukhin/Downloads/idex.html -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


    <title>WebSocket Client</title>

    <script type="text/javascript">

        var wsocket;

        function connect() {


            wsocket = new WebSocket("ws://localhost:8000");
            wsocket.onopen = onopen;
            wsocket.onmessage = onmessage;
            wsocket.onclose = onclose;


            setInterval(() => {
                console.log("Sending message");    wsocket.send("message: d"+Math.random()*1000);
            }, 1000)
        }

        function onopen() {
            console.log("Connected!");
            wsocket.send('hello from client');
        }

        function onmessage(event) {
            console.log("Data received: " + event.data);
        }

        function onclose(e) {
            console.log("Connection closed.");
        }

        window.addEventListener("load", connect, false);

    </script>

</head>

<body>


</body>
</html>